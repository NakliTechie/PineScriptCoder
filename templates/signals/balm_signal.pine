calculateBalMSignal() => 
    // EMA calculations (simplified for screener)
    EMAHigh = ta.ema(high, 4)
    EMALow = ta.ema(low, 4)
    
    // Base Ballista signals (only these two as requested)
    ballista_buy = close > EMAHigh and close[1] < EMAHigh[1] and close[2] < EMAHigh[2] and close[3] < EMAHigh[3]
    ballista_sell = close < EMALow and close[1] > EMALow[1] and close[2] > EMALow[2] and close[3] > EMALow[3]
    
    // Signal Determination - Simplified to only use base signals with B/S labels
    string signalCode = "---"
    if ballista_buy
        signalCode := "B"
    else if ballista_sell
        signalCode := "S"
    
    // Append percentage change if a signal exists
    if signalCode != "---"
        float pct_change = ((close - close[1]) / close[1]) * 100.0
        string pct_change_str = str.format("{0,number,#.##}%", pct_change)
        signalCode := signalCode + " " + pct_change_str
        
    signalCode